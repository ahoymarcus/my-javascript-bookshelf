(()=>{"use strict";function e(e,t,o,n){this.title=e,this.author=t,this.numPages=o,this.bookState=n}e.prototype.info=function(){return`${this.title} by ${this.author}, ${this.numPages} pages, ${this.bookState}`};const t=e;function o(e="p",t,o,n,i){let a=document.createElement(e);if(t){const e=document.createTextNode(t);a.appendChild(e)}if(o&&a.classList.add(o),n&&(a.id=n),Array.isArray(i))for(let e=0;e<i.length;e+=1)a[i[e].prop]=i[e].value;return a}const n=document.getElementById("booklist"),i=function(e){n.innerHTML=null,e.map(((e,t)=>{const i=o("li","","booklist-partition__book"),a=o("img","","booklist-partition__icon","",[{prop:"src",value:"./public/images/icons8-book-64.png"},{prop:"alt",value:"books icon"}]),l=o("div","","booklist-partition__book-content"),r=o("h3",e.title,"booklist-partition__title"),d=o("h5",e.author,"booklist-partition__author"),s=o("p",`${e.numPages} pages`,"booklist-partition__pages");let c;c="already read"===e.bookState?o("span",e.bookState,"booklist-partition__book-read","book-note"):o("spam",e.bookState,"booklist-partition__book-not-read","book-note");const u=o("button","X","booklist-partition__remove-btn","");return u.setAttribute("data-id",t),c.setAttribute("data-id",t),l.appendChild(r),l.appendChild(d),l.appendChild(s),l.appendChild(c),i.appendChild(a),i.appendChild(l),i.appendChild(u),n.appendChild(i),i}))},a=document.getElementById("hidden-message-board"),l=document.querySelector(".book-stack__ornament3"),r=function(e,t="Welcome, fell free to post your books here! :-)",n){let i=o(e,t,n);a.style.display="block",console.log(l),a.appendChild(i),setTimeout((()=>{a.style.display="none",a.innerHTML=null}),5e3)},d=document.getElementById("description-partition__about"),s=document.getElementById("add-book");let c=[];const u=new t("The Hobbit","J.R.R. Tolkien",295,"already read"),p=new t("The Fellowship of the Ring","J.R.R. Tolkien",395,"not read yet"),b=new t("The Two Towers","J.R.R. Tolkien",395,"not read yet"),h=new t("The Return of the King","J.R.R. Tolkien",395,"not read yet");function k(){document.querySelectorAll("#book-note").forEach((e=>{e.addEventListener("click",(e=>{let t=Number(e.target.getAttribute("data-id"));console.log(t),"already read"===e.target.textContent?m(e.target,t,"not read yet","booklist-partition__book-read","booklist-partition__book-not-read"):m(e.target,t,"already read","booklist-partition__book-not-read","booklist-partition__book-read")}))}))}function g(){document.querySelectorAll(".booklist-partition__remove-btn").forEach((e=>{e.addEventListener("click",(e=>{console.log(e.target.getAttribute("data-id"));let t=Number(e.target.getAttribute("data-id"));var o;o=t,c=c.filter(((e,t)=>{if(t!==o)return e})),console.log(c),i(c),k(),g(),y()}))}))}function m(e,t,o,n,i){c.map(((e,n)=>{n===t&&(e.bookState=o)})),e.textContent=o,e.classList.remove(n),e.classList.add(i)}function y(){if(c.length>0)i(c),k(),g();else{const e=new t("Your Book here!","This is also for you! :-)","All that you need: ","not read yet");c.push(e),i(c),k(),g()}}c.push(u,p,b,h),y(),d.addEventListener("click",(()=>{console.log("test about sec"),r("h3","Welcome, to this Library and fell free share your books here!","message-board-msg")})),s.addEventListener("click",(()=>{const e=document.getElementById("title"),o=document.getElementById("author"),n=document.getElementById("num-pages"),a=document.getElementById("is-read");console.log("input checked value: ",a.checked),function(e,o,n,i){if(e&&o){n||(n=0),console.log("input checked value: ",i);const a=new t(e,o,n,i=i?"already read":"not read yet");c.push(a),console.log(c)}else console.log("Please, fill all the required fields: TITLE and AUTHOR"),r("h4","Please, fill all the required fields: TITLE and AUTHOR","message-board-validation")}(e.value,o.value,n.value,a.checked),function(e,t,o,n){e.value="",t.value="",o.value="",n.checked=!1}(e,o,n,a),i(c),k(),g()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJtYXBwaW5ncyI6Im1CQUFBLFNBQVNBLEVBQUtDLEVBQU9DLEVBQVFDLEVBQVVDLEdBQ3RDQyxLQUFLSixNQUFRQSxFQUNiSSxLQUFLSCxPQUFTQSxFQUNkRyxLQUFLRixTQUFXQSxFQUNoQkUsS0FBS0QsVUFBWUEsQ0FDbEIsQ0FFQUosRUFBS00sVUFBVUMsS0FBTyxXQUdyQixNQUZhLEdBQUdGLEtBQUtKLFlBQVlJLEtBQUtILFdBQVdHLEtBQUtGLG1CQUFtQkUsS0FBS0QsV0FHL0UsRUFHQSxVQ2RBLFNBQVNJLEVBQWNDLEVBQU8sSUFBS0MsRUFBVUMsRUFBVUMsRUFBT0MsR0FDN0QsSUFBSUMsRUFBVUMsU0FBU0MsY0FBY1AsR0FFckMsR0FBSUMsRUFBVSxDQUNiLE1BQU1PLEVBQVdGLFNBQVNHLGVBQWVSLEdBRXpDSSxFQUFRSyxZQUFZRixFQUNyQixDQVlBLEdBVklOLEdBQ0hHLEVBQVFNLFVBQVVDLElBQUlWLEdBR25CQyxJQUNIRSxFQUFRUSxHQUFLVixHQUtWVyxNQUFNQyxRQUFRWCxHQUNqQixJQUFLLElBQUlZLEVBQUksRUFBR0EsRUFBSVosRUFBU2EsT0FBUUQsR0FBSyxFQUN6Q1gsRUFBUUQsRUFBU1ksR0FBR0UsTUFBUWQsRUFBU1ksR0FBR0csTUFJMUMsT0FBT2QsQ0FDUixDQ3RCQSxNQUFNZSxFQUFZZCxTQUFTZSxlQUFlLFlBNkMxQyxFQTNDQSxTQUFzQkMsR0FDckJGLEVBQVVHLFVBQVksS0FFUkQsRUFBS0UsS0FBSSxDQUFDQyxFQUFNQyxLQUU3QixNQUFNQyxFQUFLNUIsRUFBYyxLQUFNLEdBQUksNEJBQzdCNkIsRUFBTTdCLEVBQWMsTUFBTyxHQUFJLDJCQUE0QixHQUFJLENBQUMsQ0FBRW1CLEtBQU0sTUFBT0MsTUFBTyxzQ0FBd0MsQ0FBRUQsS0FBTSxNQUFPQyxNQUFPLGdCQUNwSlUsRUFBTTlCLEVBQWMsTUFBTyxHQUFJLG9DQUMvQitCLEVBQUsvQixFQUFjLEtBQU0wQixFQUFLakMsTUFBTyw2QkFDckN1QyxFQUFLaEMsRUFBYyxLQUFNMEIsRUFBS2hDLE9BQVEsOEJBQ3RDdUMsRUFBUWpDLEVBQWMsSUFBSyxHQUFHMEIsRUFBSy9CLGlCQUFrQiw2QkFFM0QsSUFBSXVDLEVBRUhBLEVBRHNCLGlCQUFuQlIsRUFBSzlCLFVBQ0RJLEVBQWMsT0FBUTBCLEVBQUs5QixVQUFXLGdDQUFpQyxhQUV2RUksRUFBYyxPQUFRMEIsRUFBSzlCLFVBQVcsb0NBQXFDLGFBSW5GLE1BQU11QyxFQUFZbkMsRUFBYyxTQUFVLElBQUssaUNBQWtDLElBa0JqRixPQWZBbUMsRUFBVUMsYUFBYSxVQUFXVCxHQUNsQ08sRUFBS0UsYUFBYSxVQUFXVCxHQUc3QkcsRUFBSW5CLFlBQVlvQixHQUNoQkQsRUFBSW5CLFlBQVlxQixHQUNoQkYsRUFBSW5CLFlBQVlzQixHQUNoQkgsRUFBSW5CLFlBQVl1QixHQUVoQk4sRUFBR2pCLFlBQVlrQixHQUNmRCxFQUFHakIsWUFBWW1CLEdBQ2ZGLEVBQUdqQixZQUFZd0IsR0FFZmQsRUFBVVYsWUFBWWlCLEdBRWZBLENBQUUsR0FFWCxFQzFDTVMsRUFBZTlCLFNBQVNlLGVBQWUsd0JBQ3ZDZ0IsRUFBb0IvQixTQUFTZ0MsY0FBYywwQkFzQmpELEVBcEJBLFNBQWtCdEMsRUFBTXVDLEVBQU0sa0RBQW1EckMsR0FDaEYsSUFFSXNDLEVBQVl6QyxFQUNoQkMsRUFIY3VDLEVBR0NyQyxHQUVma0MsRUFBYUssTUFBTUMsUUFBVSxRQUU3QkMsUUFBUUMsSUFBSVAsR0FFWkQsRUFBYTFCLFlBQVk4QixHQUVOSyxZQUFXLEtBQzdCVCxFQUFhSyxNQUFNQyxRQUFVLE9BQzdCTixFQUFhYixVQUFZLElBQUksR0FFNUIsSUFDSCxFQ2ZNdUIsRUFBZXhDLFNBQVNlLGVBQWUsZ0NBQ3ZDMEIsRUFBYXpDLFNBQVNlLGVBQWUsWUFHM0MsSUFBSTJCLEVBQVksR0FFaEIsTUFBTUMsRUFBWSxJQUFJLEVBQUssYUFBYyxpQkFBa0IsSUFBSyxnQkFDMURDLEVBQWdCLElBQUksRUFBSyw2QkFBOEIsaUJBQWtCLElBQUssZ0JBQzlFQyxFQUFlLElBQUksRUFBSyxpQkFBa0IsaUJBQWtCLElBQUssZ0JBQ2pFQyxFQUFxQixJQUFJLEVBQUsseUJBQTBCLGlCQUFrQixJQUFLLGdCQWtDckYsU0FBU0MsSUFDVS9DLFNBQVNnRCxpQkFBaUIsY0FFbENDLFNBQVFDLElBQ2pCQSxFQUFLQyxpQkFBaUIsU0FBU0MsSUFFOUIsSUFBSUMsRUFBU0MsT0FBT0YsRUFBRUcsT0FBT0MsYUFBYSxZQUMxQ25CLFFBQVFDLElBQUllLEdBRWlCLGlCQUF6QkQsRUFBRUcsT0FBT0UsWUFDWkMsRUFBY04sRUFBRUcsT0FBUUYsRUFBUSxlQUFnQixnQ0FBaUMscUNBRWpGSyxFQUFjTixFQUFFRyxPQUFRRixFQUFRLGVBQWdCLG9DQUFxQyxnQ0FDdEYsR0FDQyxHQUVKLENBR0EsU0FBU00sSUFDVzNELFNBQVNnRCxpQkFBaUIsbUNBRWxDQyxTQUFRVyxJQUNsQkEsRUFBSVQsaUJBQWlCLFNBQVNDLElBQzdCZixRQUFRQyxJQUFJYyxFQUFFRyxPQUFPQyxhQUFhLFlBQ2xDLElBQUlLLEVBQVdQLE9BQU9GLEVBQUVHLE9BQU9DLGFBQWEsWUF5Qy9DLElBQStCTSxJQXZDTkQsRUF3Q3hCbkIsRUFBWUEsRUFBVXFCLFFBQU8sQ0FBQzVDLEVBQU1DLEtBQ25DLEdBQUlBLElBQVEwQyxFQUNYLE9BQU8zQyxDQUNSLElBR0RrQixRQUFRQyxJQUFJSSxHQTVDVixFQUFhQSxHQUNiSyxJQUNBWSxJQUNBSyxHQUFjLEdBQ2IsR0FFSixDQWtEQSxTQUFTTixFQUFjaEUsRUFBTTJELEVBQVFILEVBQU1lLEVBQWFDLEdBQ3ZEeEIsRUFBVXhCLEtBQUksQ0FBQ0MsRUFBTUMsS0FDaEJBLElBQVFpQyxJQUNYbEMsRUFBSzlCLFVBQVk2RCxFQUNsQixJQUdEeEQsRUFBSytELFlBQWNQLEVBQ25CeEQsRUFBS1csVUFBVThELE9BQU9GLEdBQ3RCdkUsRUFBS1csVUFBVUMsSUFBSTRELEVBQ3BCLENBRUEsU0FBU0YsSUFDUixHQUFJdEIsRUFBVS9CLE9BQVMsRUFDdEIsRUFBYStCLEdBQ2JLLElBQ0FZLFFBQ00sQ0FDTixNQUFNUyxFQUFRLElBQUksRUFBSyxrQkFBbUIsNEJBQTZCLHNCQUF1QixnQkFDOUYxQixFQUFVMkIsS0FBS0QsR0FFZixFQUFhMUIsR0FDYkssSUFDQVksR0FDRCxDQUNELENBOUlBakIsRUFBVTJCLEtBQUsxQixFQUFXQyxFQUFlQyxFQUFjQyxHQUN2RGtCLElBR0F4QixFQUFhVyxpQkFBaUIsU0FBUyxLQUN0Q2QsUUFBUUMsSUFBSSxrQkFHWixFQUFTLEtBRkMsZ0VBRVUsb0JBQW9CLElBSXpDRyxFQUFXVSxpQkFBaUIsU0FBUyxLQUVwQyxNQUFNbUIsRUFBWXRFLFNBQVNlLGVBQWUsU0FDcEN3RCxFQUFhdkUsU0FBU2UsZUFBZSxVQUNyQ3lELEVBQVl4RSxTQUFTZSxlQUFlLGFBQ3BDMEQsRUFBZXpFLFNBQVNlLGVBQWUsV0FFN0NzQixRQUFRQyxJQUFJLHdCQUF5Qm1DLEVBQWFDLFNBbURuRCxTQUEwQnhGLEVBQU9DLEVBQVFDLEVBQVV1RixHQUNqRCxHQUFJekYsR0FBU0MsRUFBUSxDQUNoQkMsSUFDSkEsRUFBVyxHQUdaaUQsUUFBUUMsSUFBSSx3QkFBeUJxQyxHQU9yQyxNQUFNeEQsRUFBTyxJQUFJLEVBQUtqQyxFQUFPQyxFQUFRQyxFQUxwQ3VGLEVBREdBLEVBQ1MsZUFFQSxnQkFLYmpDLEVBQVUyQixLQUFLbEQsR0FFZmtCLFFBQVFDLElBQUlJLEVBQ2IsTUFDQ0wsUUFBUUMsSUFBSSwwREFJWixFQUFTLEtBRkMseURBRVUsMkJBRXRCLENBMUVDc0MsQ0FBaUJOLEVBQVV6RCxNQUFPMEQsRUFBVzFELE1BQU8yRCxFQUFVM0QsTUFBTzRELEVBQWFDLFNBeUZuRixTQUF3QkosRUFBV0MsRUFBWUMsRUFBV0MsR0FDekRILEVBQVV6RCxNQUFRLEdBQ2xCMEQsRUFBVzFELE1BQVEsR0FDbkIyRCxFQUFVM0QsTUFBUSxHQUNsQjRELEVBQWFDLFNBQVUsQ0FDeEIsQ0E1RkNHLENBQWVQLEVBQVdDLEVBQVlDLEVBQVdDLEdBRWpELEVBQWEvQixHQUNiSyxJQUNBWSxHQUFhLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qYXZhc2NyaXB0LWJvb2tzaGVsZi1vb3AvLi9zcmMvbW9kZWwvQm9vay5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LWJvb2tzaGVsZi1vb3AvLi9zcmMvY29tcG9uZW50cy9hdXhVSUZ1bmN0aW9ucy5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LWJvb2tzaGVsZi1vb3AvLi9zcmMvY29tcG9uZW50cy9Cb29rbGlzdC5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LWJvb2tzaGVsZi1vb3AvLi9zcmMvY29tcG9uZW50cy9NZXNzYWdlQm9hcmQuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1ib29rc2hlbGYtb29wLy4vc3JjL215LWpzTGlicmFyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBCb29rKHRpdGxlLCBhdXRob3IsIG51bVBhZ2VzLCBib29rU3RhdGUpIHtcblx0dGhpcy50aXRsZSA9IHRpdGxlO1xuXHR0aGlzLmF1dGhvciA9IGF1dGhvcjtcblx0dGhpcy5udW1QYWdlcyA9IG51bVBhZ2VzO1xuXHR0aGlzLmJvb2tTdGF0ZSA9IGJvb2tTdGF0ZTtcbn0gXG5cbkJvb2sucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbigpIHtcblx0Y29uc3QgaW5mbyA9IGAke3RoaXMudGl0bGV9IGJ5ICR7dGhpcy5hdXRob3J9LCAke3RoaXMubnVtUGFnZXN9IHBhZ2VzLCAke3RoaXMuYm9va1N0YXRlfWA7XG5cdFx0XHRcblx0cmV0dXJuIGluZm87XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgQm9vaztcbiIsImZ1bmN0aW9uIGNyZWF0ZURPTU5vZGUobm9kZSA9ICdwJywgaHRtbFRleHQsIGNzc0NsYXNzLCBjc3NJZCwgY3NzUHJvcHMpIHtcblx0bGV0IG5ld05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5vZGUpO1xuXHRcblx0aWYgKGh0bWxUZXh0KSB7XG5cdFx0Y29uc3QgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShodG1sVGV4dCk7XG5cdFx0XG5cdFx0bmV3Tm9kZS5hcHBlbmRDaGlsZCh0ZXh0Tm9kZSk7XG5cdH1cblx0XG5cdGlmIChjc3NDbGFzcykge1xuXHRcdG5ld05vZGUuY2xhc3NMaXN0LmFkZChjc3NDbGFzcyk7XG5cdH1cblx0XG5cdGlmIChjc3NJZCkge1xuXHRcdG5ld05vZGUuaWQgPSBjc3NJZDtcblx0fVxuXHRcblx0Ly9jb25zb2xlLmxvZyhjc3NQcm9wcyk7XG5cdC8vY29uc29sZS5sb2coQXJyYXkuaXNBcnJheShjc3NQcm9wcykpO1xuXHRpZiAoQXJyYXkuaXNBcnJheShjc3NQcm9wcykpIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGNzc1Byb3BzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRuZXdOb2RlW2Nzc1Byb3BzW2ldLnByb3BdID0gY3NzUHJvcHNbaV0udmFsdWU7XG5cdFx0fVxuXHR9XG5cdFxuXHRyZXR1cm4gbmV3Tm9kZTtcbn1cblxuXG5leHBvcnQge1xuICAgIGNyZWF0ZURPTU5vZGUsXG59O1xuXG4iLCJpbXBvcnQgeyBjcmVhdGVET01Ob2RlIH0gZnJvbSAnLi9hdXhVSUZ1bmN0aW9ucy5qcyc7XG5cblxuLy8gVUkgbm9kZXNcbmNvbnN0IGJvb2tTaGVsZiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib29rbGlzdCcpO1xuXG5mdW5jdGlvbiBzaG93Qm9va2xpc3QobGlzdCkge1xuXHRib29rU2hlbGYuaW5uZXJIVE1MID0gbnVsbDtcblx0XG5cdGxldCBuZXdOb2RlID0gbGlzdC5tYXAoKGJvb2ssIGlkeCkgPT4ge1xuXHRcdC8vIENyZWF0ZSBlbGVtZW50cyBhbmQgaXRzIHByb3BlcnRpZXNcblx0XHRjb25zdCBsaSA9IGNyZWF0ZURPTU5vZGUoJ2xpJywgJycsICdib29rbGlzdC1wYXJ0aXRpb25fX2Jvb2snKTtcdFxuXHRcdGNvbnN0IGltZyA9IGNyZWF0ZURPTU5vZGUoJ2ltZycsICcnLCAnYm9va2xpc3QtcGFydGl0aW9uX19pY29uJywgJycsIFt7IHByb3A6ICdzcmMnLCB2YWx1ZTogJy4vcHVibGljL2ltYWdlcy9pY29uczgtYm9vay02NC5wbmcnIH0sIHsgcHJvcDogJ2FsdCcsIHZhbHVlOiAnYm9va3MgaWNvbicgfV0pO1xuXHRcdGNvbnN0IGRpdiA9IGNyZWF0ZURPTU5vZGUoJ2RpdicsICcnLCAnYm9va2xpc3QtcGFydGl0aW9uX19ib29rLWNvbnRlbnQnKTtcblx0XHRjb25zdCBoMyA9IGNyZWF0ZURPTU5vZGUoJ2gzJywgYm9vay50aXRsZSwgJ2Jvb2tsaXN0LXBhcnRpdGlvbl9fdGl0bGUnICk7XG5cdFx0Y29uc3QgaDUgPSBjcmVhdGVET01Ob2RlKCdoNScsIGJvb2suYXV0aG9yLCAnYm9va2xpc3QtcGFydGl0aW9uX19hdXRob3InKTtcblx0XHRjb25zdCBwYXJhMSA9IGNyZWF0ZURPTU5vZGUoJ3AnLCBgJHtib29rLm51bVBhZ2VzfSBwYWdlc2AsICdib29rbGlzdC1wYXJ0aXRpb25fX3BhZ2VzJyk7XG5cdFx0XG5cdFx0bGV0IHNwYW47XG5cdFx0aWYgKGJvb2suYm9va1N0YXRlID09PSAnYWxyZWFkeSByZWFkJykge1xuXHRcdFx0c3BhbiA9IGNyZWF0ZURPTU5vZGUoJ3NwYW4nLCBib29rLmJvb2tTdGF0ZSwgJ2Jvb2tsaXN0LXBhcnRpdGlvbl9fYm9vay1yZWFkJywgJ2Jvb2stbm90ZScpO1x0XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNwYW4gPSBjcmVhdGVET01Ob2RlKCdzcGFtJywgYm9vay5ib29rU3RhdGUsICdib29rbGlzdC1wYXJ0aXRpb25fX2Jvb2stbm90LXJlYWQnLCAnYm9vay1ub3RlJyk7XG5cdFx0fVxuXHRcdFxuXHRcdFxuXHRcdGNvbnN0IHJlbW92ZUJ0biA9IGNyZWF0ZURPTU5vZGUoJ2J1dHRvbicsICdYJywgJ2Jvb2tsaXN0LXBhcnRpdGlvbl9fcmVtb3ZlLWJ0bicsICcnKTtcblx0XHRcblx0XHQvLyBTZXQgZ2xvYmFsIGRhdGEgYXR0cmlidXRlXG5cdFx0cmVtb3ZlQnRuLnNldEF0dHJpYnV0ZSgnZGF0YS1pZCcsIGlkeCk7XG5cdFx0c3Bhbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnLCBpZHgpO1xuXHRcdFxuXHRcdC8vIEFzc2VtYmxlIHRoZSBjb21wb25lbnRcdFx0XG5cdFx0ZGl2LmFwcGVuZENoaWxkKGgzKTtcblx0XHRkaXYuYXBwZW5kQ2hpbGQoaDUpO1xuXHRcdGRpdi5hcHBlbmRDaGlsZChwYXJhMSk7XG5cdFx0ZGl2LmFwcGVuZENoaWxkKHNwYW4pO1xuXHRcdFx0XG5cdFx0bGkuYXBwZW5kQ2hpbGQoaW1nKTtcblx0XHRsaS5hcHBlbmRDaGlsZChkaXYpO1xuXHRcdGxpLmFwcGVuZENoaWxkKHJlbW92ZUJ0bik7XG5cdFx0XG5cdFx0Ym9va1NoZWxmLmFwcGVuZENoaWxkKGxpKTtcblx0XHRcblx0XHRyZXR1cm4gbGk7XG5cdH0pO1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IHNob3dCb29rbGlzdDtcblxuIiwiaW1wb3J0IHsgY3JlYXRlRE9NTm9kZSB9IGZyb20gJy4vYXV4VUlGdW5jdGlvbnMuanMnO1xuXG5cbi8vIFVJIG5vZGVzXG5jb25zdCBtZXNzYWdlQm9hcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlkZGVuLW1lc3NhZ2UtYm9hcmQnKTtcbmNvbnN0IHRoaXJkV2FsbE9ybmFtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvb2stc3RhY2tfX29ybmFtZW50MycpO1xuXG5mdW5jdGlvbiBwcmludE1zZyhub2RlLCBtc2cgPSAnV2VsY29tZSwgZmVsbCBmcmVlIHRvIHBvc3QgeW91ciBib29rcyBoZXJlISA6LSknLCBjc3NDbGFzcykge1xuXHRsZXQgbWVzc2FnZSA9IG1zZztcblx0XG5cdGxldCBuZXdVSU5vZGUgPSBjcmVhdGVET01Ob2RlKFxuXHRub2RlLCBtZXNzYWdlLCBjc3NDbGFzcyk7XG5cdFxuXHRtZXNzYWdlQm9hcmQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cdFxuXHRjb25zb2xlLmxvZyh0aGlyZFdhbGxPcm5hbWVudCk7XG5cdFxuXHRtZXNzYWdlQm9hcmQuYXBwZW5kQ2hpbGQobmV3VUlOb2RlKTtcblx0XG5cdGNvbnN0IG1zZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRtZXNzYWdlQm9hcmQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuXHRcdG1lc3NhZ2VCb2FyZC5pbm5lckhUTUwgPSBudWxsO1xuXHR9XG5cdCwgNTAwMCk7XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgcHJpbnRNc2c7XG5cbiIsIi8qXG4qIFxuKi9cbmltcG9ydCBCb29rIGZyb20gJy4vbW9kZWwvQm9vay5qcyc7XG5pbXBvcnQgc2hvd0Jvb2tsaXN0IGZyb20gJy4vY29tcG9uZW50cy9Cb29rbGlzdC5qcyc7XG5pbXBvcnQgcHJpbnRNc2cgZnJvbSAnLi9jb21wb25lbnRzL01lc3NhZ2VCb2FyZC5qcyc7XG5cblxuLy8gVUkgbm9kZXNcbmNvbnN0IGFib3V0U2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNjcmlwdGlvbi1wYXJ0aXRpb25fX2Fib3V0Jyk7XG5jb25zdCBhZGRCb29rQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC1ib29rJyk7XG5cblxubGV0IG15TGlicmFyeSA9IFtdO1xuXG5jb25zdCB0aGVIb2JiaXQgPSBuZXcgQm9vaygnVGhlIEhvYmJpdCcsICdKLlIuUi4gVG9sa2llbicsIDI5NSwgJ2FscmVhZHkgcmVhZCcpO1xuY29uc3QgdGhlRmVsbG93c2hpcCA9IG5ldyBCb29rKCdUaGUgRmVsbG93c2hpcCBvZiB0aGUgUmluZycsICdKLlIuUi4gVG9sa2llbicsIDM5NSwgJ25vdCByZWFkIHlldCcpO1xuY29uc3QgdGhlVHdvVG93ZXJzID0gbmV3IEJvb2soJ1RoZSBUd28gVG93ZXJzJywgJ0ouUi5SLiBUb2xraWVuJywgMzk1LCAnbm90IHJlYWQgeWV0Jyk7XG5jb25zdCB0aGVSZXR1cm5PZlRoZUtpbmcgPSBuZXcgQm9vaygnVGhlIFJldHVybiBvZiB0aGUgS2luZycsICdKLlIuUi4gVG9sa2llbicsIDM5NSwgJ25vdCByZWFkIHlldCcpO1xuXG5teUxpYnJhcnkucHVzaCh0aGVIb2JiaXQsIHRoZUZlbGxvd3NoaXAsIHRoZVR3b1Rvd2VycywgdGhlUmV0dXJuT2ZUaGVLaW5nKTtcbmNoZWNrTGlicmFyeSgpO1xuXG5cbmFib3V0U2VjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0Y29uc29sZS5sb2coJ3Rlc3QgYWJvdXQgc2VjJyk7XG5cdGxldCBtc2cgPSAnV2VsY29tZSwgdG8gdGhpcyBMaWJyYXJ5IGFuZCBmZWxsIGZyZWUgc2hhcmUgeW91ciBib29rcyBoZXJlISc7XG5cdFxuXHRwcmludE1zZygnaDMnLCBtc2csICdtZXNzYWdlLWJvYXJkLW1zZycpO1xufSk7XG5cblxuYWRkQm9va0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0Ly8gRm9ybSBub2Rlc1xuXHRjb25zdCBub2RlVGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKTtcblx0Y29uc3Qgbm9kZUF1dGhvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdXRob3InKTtcblx0Y29uc3Qgbm9kZVBhZ2VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ251bS1wYWdlcycpO1xuXHRjb25zdCBub2RlQm9va05vdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXMtcmVhZCcpO1xuXHRcblx0Y29uc29sZS5sb2coJ2lucHV0IGNoZWNrZWQgdmFsdWU6ICcsIG5vZGVCb29rTm90ZS5jaGVja2VkKTtcblx0XG5cdGFkZEJvb2tUb0xpYnJhcnkobm9kZVRpdGxlLnZhbHVlLCBub2RlQXV0aG9yLnZhbHVlLCBub2RlUGFnZXMudmFsdWUsIG5vZGVCb29rTm90ZS5jaGVja2VkKTtcblx0XG5cdGNsZWFyRm9ybVNoZWV0KG5vZGVUaXRsZSwgbm9kZUF1dGhvciwgbm9kZVBhZ2VzLCBub2RlQm9va05vdGUpO1xuXHRcblx0c2hvd0Jvb2tsaXN0KG15TGlicmFyeSk7XG5cdGNoYW5nZUJvb2tOb3RlcygpO1xuXHRyZW1vdmVCb29rcygpO1xufSk7XG5cblxuXG5mdW5jdGlvbiBjaGFuZ2VCb29rTm90ZXMoKSB7XG5cdGNvbnN0IGJvb2tOb3RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNib29rLW5vdGUnKTtcblx0XG5cdGJvb2tOb3Rlcy5mb3JFYWNoKG5vdGUgPT4ge1xuXHRcdG5vdGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcblx0XHRcdC8vY29uc29sZS5kaXIoZS50YXJnZXQpO1xuXHRcdFx0bGV0IG5vdGVJZCA9IE51bWJlcihlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSk7XG5cdFx0XHRjb25zb2xlLmxvZyhub3RlSWQpO1xuXHRcdFx0XG5cdFx0XHRpZiAoZS50YXJnZXQudGV4dENvbnRlbnQgPT09ICdhbHJlYWR5IHJlYWQnKSB7XG5cdFx0XHRcdGNoZWNrQm9va05vdGUoZS50YXJnZXQsIG5vdGVJZCwgJ25vdCByZWFkIHlldCcsICdib29rbGlzdC1wYXJ0aXRpb25fX2Jvb2stcmVhZCcsICdib29rbGlzdC1wYXJ0aXRpb25fX2Jvb2stbm90LXJlYWQnKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNoZWNrQm9va05vdGUoZS50YXJnZXQsIG5vdGVJZCwgJ2FscmVhZHkgcmVhZCcsICdib29rbGlzdC1wYXJ0aXRpb25fX2Jvb2stbm90LXJlYWQnLCAnYm9va2xpc3QtcGFydGl0aW9uX19ib29rLXJlYWQnKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG59XG5cblxuZnVuY3Rpb24gcmVtb3ZlQm9va3MoKSB7XG5cdGNvbnN0IHJlbW92ZUJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYm9va2xpc3QtcGFydGl0aW9uX19yZW1vdmUtYnRuJyk7XG5cdFxuXHRyZW1vdmVCdG5zLmZvckVhY2goYnRuID0+IHtcblx0XHRidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpKTtcblx0XHRcdGxldCBidG5JbmRleCA9IE51bWJlcihlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSk7XG5cdFx0XHRcblx0XHRcdHJlbW92ZUJvb2tmcm9tTGlicmFyeShidG5JbmRleCk7XG5cdFx0XHRcblx0XHRcdHNob3dCb29rbGlzdChteUxpYnJhcnkpO1xuXHRcdFx0Y2hhbmdlQm9va05vdGVzKCk7XG5cdFx0XHRyZW1vdmVCb29rcygpO1xuXHRcdFx0Y2hlY2tMaWJyYXJ5KCk7XG5cdFx0fSk7XG5cdH0pO1x0XG59ICBcblxuXG5mdW5jdGlvbiBhZGRCb29rVG9MaWJyYXJ5KHRpdGxlLCBhdXRob3IsIG51bVBhZ2VzLCBib29rc1JlYWQpIHtcbiAgaWYgKHRpdGxlICYmIGF1dGhvcikge1xuXHRcdGlmICghbnVtUGFnZXMpIHtcblx0XHRcdG51bVBhZ2VzID0gMDtcblx0XHR9XG5cdFx0XG5cdFx0Y29uc29sZS5sb2coJ2lucHV0IGNoZWNrZWQgdmFsdWU6ICcsIGJvb2tzUmVhZCk7XG5cdFx0aWYgKGJvb2tzUmVhZCkge1xuXHRcdFx0Ym9va3NSZWFkID0gJ2FscmVhZHkgcmVhZCc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGJvb2tzUmVhZCA9ICdub3QgcmVhZCB5ZXQnO1xuXHRcdH1cblx0XHRcblx0XHRjb25zdCBib29rID0gbmV3IEJvb2sodGl0bGUsIGF1dGhvciwgbnVtUGFnZXMsIGJvb2tzUmVhZCk7XG5cdFx0XG5cdFx0bXlMaWJyYXJ5LnB1c2goYm9vayk7XG5cdFx0XG5cdFx0Y29uc29sZS5sb2cobXlMaWJyYXJ5KTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLmxvZyhgUGxlYXNlLCBmaWxsIGFsbCB0aGUgcmVxdWlyZWQgZmllbGRzOiBUSVRMRSBhbmQgQVVUSE9SYCk7XG5cdFx0XG5cdFx0bGV0IG1zZyA9ICdQbGVhc2UsIGZpbGwgYWxsIHRoZSByZXF1aXJlZCBmaWVsZHM6IFRJVExFIGFuZCBBVVRIT1InO1xuXHRcdFxuXHRcdHByaW50TXNnKCdoNCcsIG1zZywgJ21lc3NhZ2UtYm9hcmQtdmFsaWRhdGlvbicpO1xuXHR9ICBcbn1cblxuXG5mdW5jdGlvbiByZW1vdmVCb29rZnJvbUxpYnJhcnkoYm9va0luZGV4KSB7XG5cdG15TGlicmFyeSA9IG15TGlicmFyeS5maWx0ZXIoKGJvb2ssIGlkeCkgPT4ge1xuXHRcdGlmIChpZHggIT09IGJvb2tJbmRleCkge1xuXHRcdFx0cmV0dXJuIGJvb2s7XG5cdFx0fVxuXHR9KTtcblx0XHRcblx0Y29uc29sZS5sb2cobXlMaWJyYXJ5KTtcbn1cblxuXG4vKiBBVVhJTElBUlkgRlVOQ1RJT05TICovXG5mdW5jdGlvbiBjbGVhckZvcm1TaGVldChub2RlVGl0bGUsIG5vZGVBdXRob3IsIG5vZGVQYWdlcywgbm9kZUJvb2tOb3RlKSB7XG5cdG5vZGVUaXRsZS52YWx1ZSA9ICcnO1xuXHRub2RlQXV0aG9yLnZhbHVlID0gJyc7XG5cdG5vZGVQYWdlcy52YWx1ZSA9ICcnO1xuXHRub2RlQm9va05vdGUuY2hlY2tlZCA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBjaGVja0Jvb2tOb3RlKG5vZGUsIG5vdGVJZCwgbm90ZSwgY3NzVG9SZW1vdmUsIGNzc1RvQWRkKSB7XG5cdG15TGlicmFyeS5tYXAoKGJvb2ssIGlkeCkgPT4ge1xuXHRcdGlmIChpZHggPT09IG5vdGVJZCkge1xuXHRcdFx0Ym9vay5ib29rU3RhdGUgPSBub3RlO1xuXHRcdH1cblx0fSk7XG5cdFxuXHRub2RlLnRleHRDb250ZW50ID0gbm90ZTtcblx0bm9kZS5jbGFzc0xpc3QucmVtb3ZlKGNzc1RvUmVtb3ZlKTtcblx0bm9kZS5jbGFzc0xpc3QuYWRkKGNzc1RvQWRkKTtcbn1cblxuZnVuY3Rpb24gY2hlY2tMaWJyYXJ5KCkge1xuXHRpZiAobXlMaWJyYXJ5Lmxlbmd0aCA+IDApIHtcblx0XHRzaG93Qm9va2xpc3QobXlMaWJyYXJ5KTtcblx0XHRjaGFuZ2VCb29rTm90ZXMoKTtcblx0XHRyZW1vdmVCb29rcygpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnN0IHNpZGVCID0gbmV3IEJvb2soJ1lvdXIgQm9vayBoZXJlIScsICdUaGlzIGlzIGFsc28gZm9yIHlvdSEgOi0pJywgJ0FsbCB0aGF0IHlvdSBuZWVkOiAnLCAnbm90IHJlYWQgeWV0Jyk7XG5cdFx0bXlMaWJyYXJ5LnB1c2goc2lkZUIpO1xuXHRcdFxuXHRcdHNob3dCb29rbGlzdChteUxpYnJhcnkpO1xuXHRcdGNoYW5nZUJvb2tOb3RlcygpO1xuXHRcdHJlbW92ZUJvb2tzKCk7XG5cdH1cbn1cblxuXG4iXSwibmFtZXMiOlsiQm9vayIsInRpdGxlIiwiYXV0aG9yIiwibnVtUGFnZXMiLCJib29rU3RhdGUiLCJ0aGlzIiwicHJvdG90eXBlIiwiaW5mbyIsImNyZWF0ZURPTU5vZGUiLCJub2RlIiwiaHRtbFRleHQiLCJjc3NDbGFzcyIsImNzc0lkIiwiY3NzUHJvcHMiLCJuZXdOb2RlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwidGV4dE5vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImFwcGVuZENoaWxkIiwiY2xhc3NMaXN0IiwiYWRkIiwiaWQiLCJBcnJheSIsImlzQXJyYXkiLCJpIiwibGVuZ3RoIiwicHJvcCIsInZhbHVlIiwiYm9va1NoZWxmIiwiZ2V0RWxlbWVudEJ5SWQiLCJsaXN0IiwiaW5uZXJIVE1MIiwibWFwIiwiYm9vayIsImlkeCIsImxpIiwiaW1nIiwiZGl2IiwiaDMiLCJoNSIsInBhcmExIiwic3BhbiIsInJlbW92ZUJ0biIsInNldEF0dHJpYnV0ZSIsIm1lc3NhZ2VCb2FyZCIsInRoaXJkV2FsbE9ybmFtZW50IiwicXVlcnlTZWxlY3RvciIsIm1zZyIsIm5ld1VJTm9kZSIsInN0eWxlIiwiZGlzcGxheSIsImNvbnNvbGUiLCJsb2ciLCJzZXRUaW1lb3V0IiwiYWJvdXRTZWN0aW9uIiwiYWRkQm9va0J0biIsIm15TGlicmFyeSIsInRoZUhvYmJpdCIsInRoZUZlbGxvd3NoaXAiLCJ0aGVUd29Ub3dlcnMiLCJ0aGVSZXR1cm5PZlRoZUtpbmciLCJjaGFuZ2VCb29rTm90ZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsIm5vdGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsIm5vdGVJZCIsIk51bWJlciIsInRhcmdldCIsImdldEF0dHJpYnV0ZSIsInRleHRDb250ZW50IiwiY2hlY2tCb29rTm90ZSIsInJlbW92ZUJvb2tzIiwiYnRuIiwiYnRuSW5kZXgiLCJib29rSW5kZXgiLCJmaWx0ZXIiLCJjaGVja0xpYnJhcnkiLCJjc3NUb1JlbW92ZSIsImNzc1RvQWRkIiwicmVtb3ZlIiwic2lkZUIiLCJwdXNoIiwibm9kZVRpdGxlIiwibm9kZUF1dGhvciIsIm5vZGVQYWdlcyIsIm5vZGVCb29rTm90ZSIsImNoZWNrZWQiLCJib29rc1JlYWQiLCJhZGRCb29rVG9MaWJyYXJ5IiwiY2xlYXJGb3JtU2hlZXQiXSwic291cmNlUm9vdCI6IiJ9